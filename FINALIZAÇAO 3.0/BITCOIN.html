<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>bitcalculator</title>
<!-- Carregar a biblioteca Google Charts -->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<style>
    body {
        font-family: Arial, sans-serif;
        background-image: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url(https://garratech.com.br/wp-content/uploads/21398f7323df02b64fae25c704ccc32f.gif);
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        margin: 0;
        padding: 0;
    }

    h2 {
        text-align: center;
        margin-top: 20px;
        color: #fff;
    }

    form {
        background-color: rgba(255, 255, 255, 0.8);
        width: 90%;
        max-width: 600px;
        margin: 20px auto;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    label {
        display: block;
        margin-bottom: 5px;
        color: #333;
        font-weight: bold;
        font-size: 16px;
    }

    input[type="number"],
    input[type="date"],
    button {
        width: calc(100% - 22px); /* Ajuste para compensar a largura da barra de rolagem */
        padding: 10px;
        margin-bottom: 15px;
        border: 1px solid #ccc;
        border-radius: 5px;
        box-sizing: border-box;
        font-size: 16px;
    }

    button {
        background-color: #1f4f6e;
        color: #fff;
        cursor: pointer;
        font-weight: bold;
    }

    button:hover {
        background-color: #1f4f6e;
    }

    #resultado {
        text-align: center;
        margin-bottom: 20px;
        color: #ffffff;
        font-weight: bold;
        font-size: 18px;
    }

    #chart_div {
        width: 100%;
        height: calc(50vh - 80px); /* Ajuste para ocupar metade da altura da tela */
        margin: 0 auto;
        border: 2px solid black;
        border-radius: 20px;
        overflow: hidden;
    }

    #tabela_div {
        width: 100%;
        height: calc(50vh - 80px); /* Ajuste para ocupar metade da altura da tela */
        margin-top: 20px;
    }

    /* Estilos adicionais para tornar a tabela responsiva */
    .google-visualization-table-table {
        width: 100% !important;
    }
</style>
<script type="text/javascript">
    google.charts.load('current', {'packages':['corechart', 'table']});
    google.charts.setOnLoadCallback(drawChart);

    function calcular() {
        var investimento = parseFloat(document.getElementById('investimento').value);
        var precoCompra = parseFloat(document.getElementById('precoCompra').value);
        var precoAtual = parseFloat(document.getElementById('precoAtual').value);
        var dataCompra = new Date(document.getElementById('dataCompra').value);
        var dataAtual = new Date();

        var diasPassados = Math.floor((dataAtual - dataCompra) / (1000 * 60 * 60 * 24));
        var ganhoPerda = (precoAtual - precoCompra) * investimento / precoCompra;
        var mensagem = '';
        if (ganhoPerda > 0) {
            mensagem = "Você ganhou R$" + ganhoPerda.toFixed(2);
            document.getElementById('chart_div').style.border = "2px solid green";
        } else if (ganhoPerda < 0) {
            mensagem = "Você perdeu R$" + Math.abs(ganhoPerda).toFixed(2);
            document.getElementById('chart_div').style.border = "2px solid red";
        } else {
            mensagem = "Você não ganhou nem perdeu dinheiro";
            document.getElementById('chart_div').style.border = "none";
        }

        mensagem += " em " + diasPassados + " dias.";

        document.getElementById('resultado').innerHTML = mensagem;

        // Criar e atualizar o gráfico e a tabela
        drawChart(precoCompra, precoAtual, diasPassados, ganhoPerda);
    }

    function drawChart(precoCompra, precoAtual, diasPassados, ganhoPerda) {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Dias');
        data.addColumn('number', 'Valor do Bitcoin');

        var valorBitcoin = precoCompra;
        for (var i = 0; i <= diasPassados; i++) {
            data.addRow([i.toString(), valorBitcoin]);
            valorBitcoin += (precoAtual - precoCompra) / diasPassados;
        }

        var options = {
            title: 'Ganhos/Perdas com Bitcoin ao longo do tempo',
            curveType: 'function',
            legend: { position: 'bottom' },
            colors: [ganhoPerda > 0 ? 'green' : 'red'],
            hAxis: {
                title: 'Dias',
                titleTextStyle: { bold: true, fontSize: 14, color: '#fff' }
            },
            vAxis: {
                title: 'Valor do Bitcoin (R$)',
                titleTextStyle: { bold: true, fontSize: 14, color: '#fff' }
            }
        };

        var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
        chart.draw(data, options);

        // Criar a tabela ao lado do gráfico
        var tabelaData = new google.visualization.DataTable();
        tabelaData.addColumn('string', 'Descrição');
        tabelaData.addColumn('string', 'Valor');

        tabelaData.addRow(['Ganho/Perda', ganhoPerda.toFixed(2)]);
        tabelaData.addRow(['Dias', diasPassados]);

        var tabelaOptions = {
            width: '100%',
            height: '100%',
            cssClassNames: {
                headerRow: 'tabelaHeaderRow',
                tableRow: 'tabelaRow',
                headerCell: 'tabelaHeaderCell',
                tableCell: 'tabelaCell'
            }
        };

        var tabela = new google.visualization.Table(document.getElementById('tabela_div'));
        tabela.draw(tabelaData, tabelaOptions);
    }
</script>
</head>
<body>
<h2>BITCALC</h2>
<form>
    <label for="investimento"><b>Investimento em Reais:</b></label>
    <input type="number" id="investimento" name="investimento" step="0.01"><br>

    <label for="precoCompra"><b>Preço de Compra do Bitcoin:</b></label>
    <input type="number" id="precoCompra" name="precoCompra" step="0.01"><br>

    <label for="dataCompra"><b>Data de Compra:</b></label>
    <input type="date" id="dataCompra" name="dataCompra"><br>

    <label for="precoAtual"><b>Preço Atual do Bitcoin:</b></label>
    <input type="number" id="precoAtual" name="precoAtual" step="0.01"><br>

    <button type="button" onclick="calcular()"><b>Calcular</b></button>
</form>

<div id="resultado"></div>
<div id="chart_div"></div>
<a href="O SITE INTEIRO.html" style="display: block; text-align: center; margin-top: 20px; color: #fff; text-decoration: none; font-size: 16px; background-color: #1f4f6e; border: none; border-radius: 5px; padding: 10px 20px; width: 90%; max-width: 400px; margin: 0 auto;"><b> home page</b></a>
<div id="tabela_div"></div>

</body>
</html>
